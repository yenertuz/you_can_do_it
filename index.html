<!DOCTYPE html>

<html>
    <header>
        <title>You Can Do It</title>
        <link rel="icon" href="http://www.dictionary.com/e/wp-content/uploads/2018/02/grinning-face-with-smiling-eyes.png">
        <style>
            .hidden, .hidden * {
                display: none;
            }

            * {
                font-family: sans-serif;
                text-align: justify;
            }

            #acceptance {
                padding: 10px;
            }
        </style>
    </header>
    <body>
    <div id="input" class="hidden">
        <div id="intro">
            You deserve some motivation!
        </div>
        <div id="name">
            <span id="name-span">Enter your name:</span>
            <input id="name-input" type="text">
        </div>
        <div id="school">
            <span id="school-span">Enter your dream school:</span>
            <input id="school-input" type="text">
        </div>
        <button id="button">
            Check Inbox
        </button>
    </div>

    <div id="acceptance" class="hidden">
        Dear <span id="name-output"></span>,
        <br><br>
        It is my pleasure to inform you that he Admissions Committee of <span id="school-output"></span> School of Medicine has voted to accept you as a member of the entering class. We believe you will appreciate and contribute in a positive way to the quality of medical education we are committed to provide.
        <br><br>
        All of us at the school of medicine congratulate and welcome you as a member of the entering class. We anticipate that you will have positive, challenging and successful years at <span id="college-output-2"></span>
        <br><br>
        Best regards,<br>
        Associate Dean of Admissions
        </div>
    </div>
    </body>
    <script>

            function render_letter(name=null, school=null) {
                if (name == null || typeof(name) != 'string') {
                    name = document.getElementById("name-input").value;
                }
                if (school == null) {
                    school = document.getElementById("school-input").value;
                }
                document.getElementById("input").classList.add("hidden");
                document.getElementById("acceptance").classList.remove("hidden");
                document.getElementById("school-output").innerText = school;
                document.getElementById("college-output-2").innerText = school;
                document.getElementById("name-output").innerText = name;
            }
    
            function main () {
                const urlParams = new URLSearchParams(window.location.search);
                let name = urlParams.get('name');
                let school = urlParams.get('school');
                if (name && school) {
                    name = name.replace(/\_/g, " ");
                    school = school.replace(/\_/g, "");
                    render_letter(name, school);
                } else {
                    document.getElementById("input").classList.remove("hidden");
                    document.getElementById("button").onclick = render_letter;
                }
            }
    
            main();
    
        </script>
    
</html>